(this.webpackJsonpvidnote=this.webpackJsonpvidnote||[]).push([[0],{100:function(e,t){},102:function(e,t){},115:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(59),s=a.n(o),l=(a(73),a(74),a(75),a(14)),r=a(10),d=a(11),c=a(6),u=a(13),m=a(12),h=(a(31),a(24)),p=a.n(h),v=(a(37),a(25)),g=a.n(v),f=a(19),b=a.n(f),y=a(20),T=a.n(y),E=a(8),k=(a(22),a(45),a(46),a(47),a(96),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={playerRef:null,currentPlaylist:[]},n}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return console.log("compare it2:",e.playlist,this.props.playlist,e.playlist.length!=this.props.playlist.length),e.playlist.length!=this.props.playlist.length}},{key:"componentDidUpdate",value:function(e){var t=this;e.playlist!==this.props.playlist&&this.setState({currentPlaylist:this.props.playlist},(function(){console.log("The Current Playlist UPDATED:",t.props.playlist),t.props.player.playlist(t.props.playlist,t.props.player.playlist.currentItem())}))}},{key:"componentDidMount",value:function(){console.log("hit!!"),console.log("The Current Playlist:",this.props.playlist),console.log("player: ",this.props.player,this.props.test),void 0!=this.props.player&&null!=this.props.player&&(this.props.player.playlist(this.props.playlist),console.log("the playlist2: ",this.props.player.playlist()),this.props.player.playlist.autoadvance(0),this.props.player.playlistUi())}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{class:"vjs-playlist"}))}}]),a}(i.a.Component)),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getTime=function(){console.log(n.player,n.videoNode,n.player.currentTime()),console.log("player ref from button:",n.player,"    .... end"),n.setState({currentTime:n.player.currentTime()})},n.state={currentTime:0},n.getTime=n.getTime.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(e){this.player=Object(E.default)(this.videoNode,this.props,(function(){console.log("onPlayerReady",this)})),this.props.setVidRef(this.player),console.log("player2: ",this.player)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return console.log("player3: ",this.player),i.a.createElement("div",null,i.a.createElement("div",{"data-vjs-player":!0},i.a.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js mainVideo"})),i.a.createElement("button",{onClick:this.getTime},"Get Current Time:"),i.a.createElement("span",null,"Time:",this.state.currentTime))}}]),a}(i.a.Component),w=a(67),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={editing:!1,text_disabled:!0,noteTitle_disabled:!0,text:n.props.note.text,noteTitle:null!=n.props.note.noteTitle?n.props.note.noteTitle:n.props.note.text,noteSectionVideoId:n.props.videoId,lastEnabled:{state:null,saved:!0},videoCategory:n.props.videoCategory},n.handleToggleState=n.handleToggleState.bind(Object(c.a)(n)),n.handleSave=n.handleSave.bind(Object(c.a)(n)),n.acceptSpecialSymbol=n.acceptSpecialSymbol.bind(Object(c.a)(n)),n.convertDisableStatusToValue=n.convertDisableStatusToValue.bind(Object(c.a)(n)),n.updateTimeStamp=n.updateTimeStamp.bind(Object(c.a)(n)),n.formatTimeStamp=n.formatTimeStamp.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){e.videoId!=this.props.videoId?(this.setState({text_disabled:!0,noteTitle_disabled:!0}),console.log("updating...")):console.log("not updating...")}},{key:"handleShow",value:function(e){console.log(this.refs,e),console.log(this.refs[toString(e)]),this.refs[e].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:e})}},{key:"handleToggleState",value:function(e,t){var a,n=this;this.setState((a={},Object(l.a)(a,t,!this.state[t]),Object(l.a)(a,"lastEnabled",{state:t,saved:!1}),a),(function(){console.log("Toggling ",t,n.state[t])}))}},{key:"convertDisableStatusToValue",value:function(e){switch(e){case"text_disabled":return"text";case"noteTitle_disabled":return"noteTitle"}}},{key:"handleSave",value:function(e){var t,a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.state.lastEnabled;console.log("saving....",i,i.state,this.state[i.state],this.state.text);var o=this.convertDisableStatusToValue(i.state),s=(t={},Object(l.a)(t,i.state,!this.state[i.state]),Object(l.a)(t,"lastEnabled",{state:this.state.lastEnabled.state,saved:!0}),t);this.setState(s,(function(){console.log("text_disabled: ",a.state[o],o,n),a.props.changeNote(a.props.note,null!==n&&void 0!==n?n.data:a.state[o],a.props._ref,null!==n&&void 0!==n?n.value:o,a.props.videoId)}))}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"acceptSpecialSymbol",value:function(e,t,a){var n=this;9==e.keyCode&&t.include_tabs&&(e.preventDefault(),this.setState(Object(l.a)({},a,this.state[a]+String.fromCharCode(9)),(function(){console.log("new ".concat(a," value: "),n.state[a])}))),13==e.keyCode&&e.shiftKey&&t.SE_submit&&this.handleSave(e),13==e.keyCode&&t.E_submit&&this.handleSave(e)}},{key:"updateTimeStamp",value:function(e,t){this.handleSave(e,{value:"startTime",data:t()})}},{key:"formatTimeStamp",value:function(e,t){var a=0,n=0,o=0;return e<60?(o=Math.trunc(e),i.a.createElement("div",null,i.a.createElement("div",{className:"web"==this.props.videoCategory?"timestamp":""},"0:",o<10?"0":"",o),"web"==this.props.videoCategory?i.a.createElement("a",{href:"https://youtu.be/".concat(this.props.ytVidId,"?t=").concat(o),className:"printOnlyTimeStamp"},"0:",o<10?"0":"",o):"")):e<3600?(n=Math.trunc(e/60),o=Math.trunc(e-60*n),i.a.createElement("div",null,n,":",o<10?"0":"",o)):e<86400?(a=Math.trunc(e/60/60),n=Math.trunc((e-60*a*60)/60),o=Math.trunc(e-60*a*60-60*n),i.a.createElement("div",null,a,":",n<10?"0":"",n,":",o<10?"0":"",o)):i.a.createElement("div",null,"Error: MAX_VIDEO_LENGTH EXCEEDED")}},{key:"formatUpdate",value:function(e){}},{key:"render",value:function(){var e=this;this.props.videoCategory!=this.state.videoCategory&&this.setState({videoCategory:this.props.videoCategory});var t=this.props.note,a=this.formatTimeStamp(t.startTime,t),n=t.lastUpdated,o=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(n),s=Object(w.a)(o,11),l=s[0].value,r=s[2].value,d=s[4].value,c=s[6].value,u=s[8].value,m=s[10].value;return console.log("".concat(r,"-").concat(l,"-").concat(d)),console.log("".concat(r,"\ud83d\udc60").concat(l,"\ud83d\udc62").concat(d)),i.a.createElement("div",{ref:this.props._ref,className:"ListItem "+this.props.additionalClasses},i.a.createElement("div",{onClick:function(){return e.props.setCurrVidTime(t.startTime)},className:"noteTitleContainer",title:this.state.noteTitle},i.a.createElement("div",{hidden:!this.state.noteTitle_disabled,className:this.state.noteTitle_disabled?"seekText titleDiv":""},"Go to:"),i.a.createElement("div",{className:"titleDiv"},a),i.a.createElement("div",{className:"  titleDiv"},"\xa0|\xa0"),i.a.createElement("input",{hidden:this.state.noteTitle_disabled,onChange:function(t,a){return e.handleInputChange(t,"noteTitle")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{E_submit:!0},null)},value:this.state.noteTitle,className:this.state.noteTitle_disabled?"":"noteTitleEditor titleDiv"}),i.a.createElement("div",{hidden:!this.state.noteTitle_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}:null,className:this.state.noteTitle_disabled?"noteTitleDisplay titleDiv":""},this.state.noteTitle),i.a.createElement("br",null)),i.a.createElement("pre",{hidden:!this.state.text_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"text_disabled")}:null,className:"noteMsgDisplay"},t.text),i.a.createElement("div",{hidden:this.state.text_disabled,className:this.state.text_disabled?"":"noteMsgEditorContainer"},i.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"text")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{include_tabs:!0,SE_submit:!0},"text")},value:this.state.text,className:"noteMsgEditor"})),i.a.createElement("button",{onClick:function(t,a){return e.updateTimeStamp(t,e.props.getCurrVidTime)}},"Update Timestamp"),i.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"text_disabled")}},"Toggle TextArea"),i.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}},"Toggle Title"),i.a.createElement("button",{hidden:null==this.state.lastEnabled.state||this.state.lastEnabled.saved,onClick:this.handleSave},"Save"),i.a.createElement("div",null,"Last Edited: ","".concat(l," ").concat(r,", ").concat(d," at ").concat(c,":").concat(u,":").concat(m)),i.a.createElement("div",null,null!=this.state.videoCategory&&void 0!=this.state.videoCategory&&"hello"&this.state.videoCategory),i.a.createElement("select",null,i.a.createElement("option",{value:"grapefruit"},"Grapefruit"),i.a.createElement("option",{value:"lime"},"Lime"),i.a.createElement("option",{selected:!0,value:"coconut"},"Coconut"),i.a.createElement("option",{value:"mango"},"Mango")))}}]),a}(i.a.Component),S=(p.a,{maxVideoId:1,maxNoteId:3,noteData:[{videoId:0,type:"web",source:"YouTube",url:"",fileName:null,notes:[{noteId:0,startTime:Date(),endTime:null,text:"This is a test message111",bookmarked:!1,drawn:!1,images:[]},{noteId:1,startTime:Date(),endTime:null,text:"This is a test message222",bookmarked:!1,drawn:!1,images:[]}]},{videoId:1,type:"local",source:null,url:null,fileName:"testVid.mp4",notes:[{noteId:2,startTime:Date(),endTime:null,text:"This is a test message3",bookmarked:!1,drawn:!1,images:[]},{noteId:3,startTime:Date(),endTime:null,text:"This is a test message4",bookmarked:!1,drawn:!1,images:[]}]}]}),V=new b.a,N=(V.folder("Images"),V.folder("Videos"));N.folder("Originals"),N.folder("Drawn"),V.folder("Data");V.folder("Meta").file("meta.txt",JSON.stringify(S));var x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={index:0,currentNoteId:0},n.handleShow=n.handleShow.bind(Object(c.a)(n)),n.findMostRecentNoteIdx=n.findMostRecentNoteIdx.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.props.itemList.notes;if(0==a.length)return-1;if(1==a.length)return 0;for(;t<a.length;){if(console.log("time comparisons: ",a[t].startTime,e),a.length>1&&t<a.length-1&&(console.log("time comparisons: ",a[t].startTime,e),a[t].startTime<=e&&a[t+1].startTime>e))return t;t+=1}return a.length-1}},{key:"handleShow",value:function(e,t){if("current"==e){var a=this.findMostRecentNoteIdx();a>0&&(this.refs[a].scrollIntoView({block:"center",behavior:"smooth"}),console.log("mRIdx: ",a),this.setState({index:a}))}else console.log(this.refs,t),console.log(this.refs[toString(t)]),console.log("the refs: ",this.refs,this.refs[1]),this.refs[t].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:t})}},{key:"render",value:function(){var e=this,t=this.props.itemList.notes;return console.log("ITEMMMMS",t),i.a.createElement("div",null,i.a.createElement("div",{className:"noteSectionVideoTitle"},null!=this.props.itemList.videoName?this.props.itemList.videoName:"Untitled Video"),"web"==this.props.itemList.category?i.a.createElement("div",{className:"noteSectionVideoLink"},"Watch Now: ",i.a.createElement("a",{href:this.props.itemList.url},this.props.itemList.url)):i.a.createElement("div",{className:"noteSectionVideoLink"},"Uploaded File"),this.state.index,i.a.createElement("ul",null,t.map((function(t,a){return a==e.state.index?i.a.createElement("div",{ref:a},i.a.createElement(I,{_ref:a,note:t,additionalClasses:"centerListItem",setCurrVidTime:e.props.setCurrVidTime,changeNote:e.props.changeNote,videoId:e.props.itemList.videoId,videoCategory:e.props.itemList.category,url:e.props.itemList.url,ytVidId:e.props.itemList.ytVidId,getCurrVidTime:e.props.getCurrVidTime})):i.a.createElement("div",{ref:a},i.a.createElement(I,{_ref:a,note:t,additionalClasses:"",setCurrVidTime:e.props.setCurrVidTime,changeNote:e.props.changeNote,videoId:e.props.itemList.videoId,videoCategory:e.props.itemList.category,url:e.props.itemList.url,ytVidId:e.props.itemList.ytVidId,getCurrVidTime:e.props.getCurrVidTime}))}))),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",0)},"0"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",2)},"2"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",50)},"50"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",99)},"99"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"current",0)},"Current Note"),this.state.index)}}]),a}(i.a.Component),j=a(97),D=function(){j.get("/VidNote/:CarolineHoang/:VidNote/actions/secrets",(function(e){var t="";e.on("data",(function(e){t+=e})),e.on("end",(function(){console.log(t)}))})).on("error",(function(e){console.log("Error: "+e.message)}))},O=p.a,P={maxVideoId:3,maxNoteId:3,noteData:[{videoId:0,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=3WQHDUYk310&feature=emb_rel_pause",videoName:"Dummy YouTube VideoName 1",ytVidId:"3WQHDUYk310",fileObj:null,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message111",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:1,endTime:null,noteTitle:null,text:"This is a test message222",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:1,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=voFRslp8d60&t=17s",videoName:null,ytVidId:"voFRslp8d60",fileObj:null,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message333",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:2,category:"local",type:"video/mp4",url:g.a,videoName:"testVid.mp4",ytVidId:null,fileObj:null,notes:[{noteId:2,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:3,startTime:0,endTime:null,noteTitle:null,text:"This is a test message555",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]}],settings:{warnings:!1,reverse_shift_enter_submit:!1,show_undo:!1}},_={txt:{type:"text",valid:!0},jpg:{type:"image",valid:!0},mp4:{type:"video",valid:!0}},R=new b.a,L=(R.folder("Images"),R.folder("Videos"));L.folder("Originals"),L.folder("Drawn"),R.folder("Data");R.folder("Meta").file("meta.txt",JSON.stringify(P));for(var M=function(){R.generateAsync({type:"blob"}).then((function(e){var t="VidNotes "+Date.now()+".zip";T.a.saveAs(e,t)}))},U=[],A=0;A<100;A++)U.push(A+"d");var B=function(e){return e.substr(e.lastIndexOf(".")+1)},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={videoRef:null,videoInfo:{},newNote:"",newVideoLink:"",meta:P,backupMeta:null,info:"asdf",uploadedVideos:[],currPlayingVid:{},currPlayingVidId:0,fileContents:"blah blah"},n.setVideoRef=n.setVideoRef.bind(Object(c.a)(n)),n.getVideoRef=n.getVideoRef.bind(Object(c.a)(n)),n.getCurrVidTime=n.getCurrVidTime.bind(Object(c.a)(n)),n.setCurrVidTime=n.setCurrVidTime.bind(Object(c.a)(n)),n.addNote=n.addNote.bind(Object(c.a)(n)),n.changeNote=n.changeNote.bind(Object(c.a)(n)),n.uploadFile=n.uploadFile.bind(Object(c.a)(n)),n.addToPlaylist=n.addToPlaylist.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.acceptSpecialSymbol=n.acceptSpecialSymbol.bind(Object(c.a)(n)),n.findMostRecentNoteIdx=n.findMostRecentNoteIdx.bind(Object(c.a)(n)),n.findNewNoteIdx=n.findNewNoteIdx.bind(Object(c.a)(n)),n.recursiveBinarySearch=n.recursiveBinarySearch.bind(Object(c.a)(n)),n.YouTubeGetID=n.YouTubeGetID.bind(Object(c.a)(n)),n.loadProject=n.loadProject.bind(Object(c.a)(n)),n.downloadProject=n.downloadProject.bind(Object(c.a)(n)),n.loadBackupProject=n.loadBackupProject.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"setVideoRef",value:function(e){var t=this;console.log("setting the ref"),e.on("playlistitem",(function(){console.log("Playing next video!",e.playlist()[e.playlist.currentIndex()]);var a=e.playlist.currentIndex();t.setState({currPlayingVid:e.playlist()[a],currPlayingVidId:a},(function(){console.log("hiiii",t.state.currPlayingVid)}))})),this.setState({videoRef:e})}},{key:"getVideoRef",value:function(){return console.log(this.state.videoRef),this.state.videoRef}},{key:"getCurrVidTime",value:function(e){var t=this.state.videoRef.currentTime();return console.log("bhaisdbfalifba",t),console.log("Current Video Info",this.state.currPlayingVid),t}},{key:"setCurrVidTime",value:function(e){console.log(e),null!=this.state.videoRef&&this.state.videoRef.currentTime(e)}},{key:"addNote",value:function(e){var t=this;console.log(this.state.newNote);var a=this.state.meta,n=this.getCurrVidTime(),i=this.state.meta.noteData[this.state.currPlayingVidId].notes,o=i.length,s=0;if(o>0)s=this.findNewNoteIdx(n,i,o);console.log("currentNoteIndex: ",s),a.noteData[this.state.currPlayingVidId].notes.splice(s+1,0,{noteId:a.maxNoteId+1,startTime:n,endTime:null,noteTitle:null,text:this.state.newNote,bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}),a.maxNoteId=a.maxNoteId+1,this.setState({meta:a,newNote:"",info:this.state.newNote},(function(){console.log(t.state.meta)}))}},{key:"changeNote",value:function(e,t,a,n,i){var o=this;console.log(e,t,i);var s=this.state.meta;console.log("videoId: ",i,"noteIdx: ",a,s.noteData[i].notes[a],s.noteData[i].notes[a][n],t),s.noteData[i].notes[a][n]=t,s.noteData[i].notes[a].lastUpdated=Date.now(),this.setState({meta:s},(function(){console.log(o.state.meta)}))}},{key:"addToPlaylist",value:function(e,t,a){var n=this;console.log("ADD TO PLAYLIST: ",t,this.state.newVideoLink);var i="",o="",s="",l=null,r=null;if("web"==t)i="video/youtube",o=this.state.newVideoLink,l=this.YouTubeGetID(o),s=o;else if("local"==t){var d=e.target.value.split("\\").pop();i="video/"+B(e.target.value),r=e.target.files[0],o=URL.createObjectURL(e.target.files[0]),console.log("LOCAL vars: ",i,o),s=d}console.log(this.state.newNote);var c=this.state.meta;this.getCurrVidTime();c.noteData.push({videoId:parseInt(c.maxVideoId)+1,category:t,type:i,url:o,videoName:s,ytVidId:l,fileObj:r,notes:[]}),console.log("meta before1: ",this.state.meta,c.maxVideoId),c.maxVideoId=parseInt(c.maxVideoId)+1,console.log("meta before2: ",this.state.meta,c.maxVideoId),this.setState({meta:c,newVideoLink:""},(function(){console.log("meta after: ",n.state.meta)})),console.log("video added: ",this.state.newVideoLink)}},{key:"uploadFile",value:function(e){if(console.log("heeeeeelllllooo"),console.log("UPLOADING:",e.target.value,typeof e.target.value),""!==e.target.value){var t=e.target.value.split("\\").pop();console.log("fileName :",t,e.target.value);var a=B(t);console.log("fileName :",t,e.target.value,a);e.target.id.split("-").pop(),e.target.files[0].arrayBuffer();this.addToPlaylist(e,"local",e.target)}}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"acceptSpecialSymbol",value:function(e,t){var a=this;9==e.keyCode&&(e.preventDefault(),this.setState(Object(l.a)({},t,this.state[t]+String.fromCharCode(9)),(function(){console.log("new ".concat(t," value: "),a.state[t])})))}},{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.state.meta.noteData[this.state.currPlayingVidId].notes;if(0==a.length)return-1;if(1==a.length)return 0;for(;t<a.length;){if(console.log("time comparisons: ",a[t].startTime,e),a.length>1&&t<a.length-1&&(console.log("time comparisons: ",a[t].startTime,e),a[t].startTime<=e&&a[t+1].startTime>e))return t;t+=1}return a.length-1}},{key:"findNewNoteIdx",value:function(e,t,a,n){var i=e,o=t;return 0==a?-2:1==a?o[0].startTime<i?0:-1:this.recursiveBinarySearch(o,i,0,a-1,a)}},{key:"recursiveBinarySearch",value:function(e,t,a,n,i){if(a>n)return n;var o=Math.floor((a+n)/2);if(o<i-1){if(e[o].startTime<=t&&e[o+1].startTime>t)return o}else if(o==i-1&&e[o].startTime>=t)return o;return e[o].startTime>t?this.recursiveBinarySearch(e,t,a,o-1,i):this.recursiveBinarySearch(e,t,o+1,n,i)}},{key:"YouTubeGetID",value:function(e){return void 0!==(e=e.split(/(vi\/|v%3D|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e[0]}},{key:"loadProject",value:function(e,t){for(var a=this,n=e.target.files,i=0,o=0;i<n.length;){console.log("uploaded file: ",e.target.files[i].name);var s=e.target.files[i].name,l=B(s),r=_[l];if(void 0!=r&&r.valid)switch(r.type){case"video":case"image":break;case"text":"meta.txt"==s&&(o=i)}i+=1}var d=e.target.files[o],c=(URL.createObjectURL(e.target.files[0]),new FileReader);c.onloadend=function(){var e=c.result,t=JSON.parse(c.result);a.setState({backupMeta:a.state.meta,meta:t,fileContents:e},(function(){console.log("hiiii",a.state.fileContents)}))},c.readAsText(d)}},{key:"loadBackupProject",value:function(e,t){this.setState({backupMeta:this.state.meta,meta:this.state.backupMeta})}},{key:"downloadProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new b.a,a=(t.folder("Images"),t.folder("Videos")),n=(a.folder("Originals"),a.folder("Drawn"),t.folder("Data"),t.folder("Meta"));n.file("meta.txt",JSON.stringify(this.state.meta)),t.generateAsync({type:"blob"}).then((function(t){var a="VidNotes "+Date.now()+".zip";e||T.a.saveAs(t,a)}))}},{key:"render",value:function(){var e=this,t=[];return this.state.meta.noteData.forEach((function(e){console.log("web index: ",A),t.push({name:e.videoName,sources:[{src:e.url,type:e.type}],poster:"http://media.w3.org/2010/05/sintel/poster.png",thumbnail:[{srcset:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg",type:"image/jpeg",media:"(min-width: 400px;)"},{src:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg"}]})})),console.log("playlistJSON:",t,"here's a code"),i.a.createElement("div",{className:"tripleColumnContainer"},i.a.createElement("div",{className:"videoPlayer"},i.a.createElement(C,Object.assign({},{autoplay:!0,controls:!0},{setVidRef:this.setVideoRef,test:"hi"})),i.a.createElement("button",{onClick:this.getVideoRef},"getVideoRef"),i.a.createElement("button",{onClick:this.getCurrVidTime},"Get current Video Time [PC] "),i.a.createElement("button",{onClick:function(){return e.setCurrVidTime(180)}},"Set current Video Time to 3 min[PC] "),"jhvj"),i.a.createElement("div",{className:"playList"},i.a.createElement("a",{href:O,download:"testFile.txt"},O,"Hiii"),i.a.createElement("button",{onClick:M},"Download Default Info "),i.a.createElement("button",{onClick:this.downloadProject},"Download Info "),i.a.createElement("button",{onClick:this.loadBackupProject},"Revert to Last Project"),"Hi",i.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"newNote")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,"newNote")},className:"NoteInputField",value:this.state.newNote})," ",i.a.createElement("button",{onClick:this.addNote,type:"submit"},"Submit Note"),i.a.createElement("input",{onChange:function(t,a){return e.handleInputChange(t,"newVideoLink")},className:"playlistInputField",value:this.state.newVideoLink}),i.a.createElement("button",{onClick:function(t,a){return e.addToPlaylist(t,"web")},type:"submit"},"Add to Playlist"),null!==this.state.videoRef&&void 0!==this.state.videoRef&&i.a.createElement(k,{key:this.state.meta,player:this.state.videoRef,playlist:t,test:"this should APPEAR"}),i.a.createElement("input",{onChange:function(t,a){return e.addToPlaylist(t,"local")},type:"file",accept:".mp4, video/mp4"}),i.a.createElement("div",null,"Field Import:",i.a.createElement("input",{onChange:function(t,a){return e.loadProject(t,"local")},directory:"",webkitdirectory:"",mozdirectory:"",type:"file"})),i.a.createElement("div",{class:"g-savetodrive","data-src":g.a,"data-filename":"My Statement.mp4","data-sitename":"My Company Name"}),i.a.createElement("div",null,"Test Env String: ","here's a code","|||",Object({NODE_ENV:"production",PUBLIC_URL:"/VidNote",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_YOUTUBE_API:"here's a code",REACT_APP_TEST_ENV_VAR:"here's a code"}).REACT_APP_TEST),i.a.createElement("button",{onClick:D},"Test Get"),i.a.createElement("pre",{className:"testerPre"},this.state.fileContents)),i.a.createElement("div",{className:"notes"},i.a.createElement("div",null,"HIII",this.state.currPlayingVid!={}&&console.log("current video: ",this.state.currPlayingVid,this.state.currPlayingVid.sources)),i.a.createElement(x,{id:"list",itemList:this.state.meta.noteData[this.state.currPlayingVidId],setCurrVidTime:this.setCurrVidTime,getCurrVidTime:this.getCurrVidTime,changeNote:this.changeNote}),"Hi",i.a.createElement("form",null,i.a.createElement("input",{type:"button",name:"print",value:"Print Page",onClick:function(){window.print()}}))))}}]),a}(i.a.Component);var G=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports=a.p+"static/media/testFile.a8f4de44.txt"},25:function(e,t,a){e.exports=a.p+"static/media/testVid.b60f6e67.mp4"},31:function(e,t,a){},37:function(e,t,a){e.exports=a.p+"static/media/testVid.b60f6e67.mp4"},47:function(e,t,a){},68:function(e,t,a){e.exports=a(115)},73:function(e,t,a){},74:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},75:function(e,t,a){},79:function(e,t){},95:function(e,t){},96:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.949d1255.chunk.js.map