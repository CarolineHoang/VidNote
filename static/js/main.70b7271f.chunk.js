(this.webpackJsonpvidnote=this.webpackJsonpvidnote||[]).push([[0],{21:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/testVid.b60f6e67.mp4"},47:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/testFile.a8f4de44.txt"},57:function(e,t,a){e.exports=a(97)},62:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},64:function(e,t,a){},71:function(e,t){},87:function(e,t){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(15),s=a.n(o),l=(a(62),a(63),a(64),a(13)),r=a(9),c=a(10),d=a(4),u=a(12),m=a(11),h=(a(21),a(48)),p=a.n(h),v=a(33),g=a.n(v),f=a(34),b=a.n(f),y=a(35),k=a.n(y),T=a(7),E=(a(22),a(23),a(31),a(47),a(88),i.a.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getTime=function(){console.log(n.player,n.videoNode,n.player.currentTime()),console.log("player ref from button:",n.player,"    .... end"),n.setState({currentTime:n.player.currentTime()})},n.state={currentTime:0,videoRef:null},n.getTime=n.getTime.bind(Object(d.a)(n)),n.generateControlButton=n.generateControlButton.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(e){console.log("video mounted"),this.player=Object(T.default)(this.videoNode,this.props,(function(){console.log("onPlayerReady",this)}));var t=this.player;this.generateControlButton(t,"previous","PrevButton","icon-angle-left","Previous",0),this.generateControlButton(t,"next","NextButton","icon-angle-right","Next",2),this.props.setVidRef(this.player),console.log("player2: ",this.player)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"generateControlButton",value:function(e,t,a,n,i,o){var s=T.default.getComponent("Button"),l=T.default.extend(s,{constructor:function(){s.apply(this,arguments),this.addClass(n),this.controlText(i)},handleClick:function(){console.log("click",e),e.playlist[t]()}});T.default.registerComponent(a,l),this.player.getChild("controlBar").addChild(a,{},o)}},{key:"render",value:function(){var e=this;return console.log("player3: ",this.player),i.a.createElement("div",null,i.a.createElement("div",{"data-vjs-player":!0},i.a.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js mainVideo"})))}}]),a}(i.a.Component)),C=a(16),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={editing:!1,text_disabled:!0,noteTitle_disabled:!0,text:n.props.note.text,noteTitle:null!==n.props.note.noteTitle?n.props.note.noteTitle:n.props.note.text,noteSectionVideoId:n.props.videoId,lastEnabled:{state:null,saved:!0},videoCategory:n.props.videoCategory},n.handleToggleState=n.handleToggleState.bind(Object(d.a)(n)),n.handleSave=n.handleSave.bind(Object(d.a)(n)),n.handleDelete=n.handleDelete.bind(Object(d.a)(n)),n.acceptSpecialSymbol=n.acceptSpecialSymbol.bind(Object(d.a)(n)),n.convertDisableStatusToValue=n.convertDisableStatusToValue.bind(Object(d.a)(n)),n.updateTimeStamp=n.updateTimeStamp.bind(Object(d.a)(n)),n.formatTimeStamp=n.formatTimeStamp.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){e.videoId!==this.props.videoId?(this.setState({text_disabled:!0,noteTitle_disabled:!0}),console.log("updating...")):console.log("not updating...")}},{key:"handleShow",value:function(e){console.log(this.refs,e),console.log(this.refs[toString(e)]),this.refs[e].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:e})}},{key:"handleToggleState",value:function(e,t){var a,n=this;this.setState((a={},Object(l.a)(a,t,!this.state[t]),Object(l.a)(a,"lastEnabled",{state:t,saved:!1}),a),(function(){console.log("Toggling ",t,n.state[t])}))}},{key:"convertDisableStatusToValue",value:function(e){switch(e){case"text_disabled":return"text";case"noteTitle_disabled":return"noteTitle"}}},{key:"handleSave",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.state.lastEnabled;console.log("saving....",i,i.state,this.state[i.state],this.state.text);var o,s=this.convertDisableStatusToValue(i.state),r={};n&&(o={},Object(l.a)(o,i.state,!this.state[i.state]),Object(l.a)(o,"lastEnabled",{state:this.state.lastEnabled.state,saved:!0}),r=o);this.setState(r,(function(){console.log("text_disabled: ",t.state[s],s,a),t.props.changeNote(t.props.note,null!==a&&void 0!==a?a.data:t.state[s],t.props._ref,null!==a&&void 0!==a?a.value:s,t.props.videoId)}))}},{key:"handleDelete",value:function(e){var t=this,a={editing:!1,text_disabled:!0,noteTitle_disabled:!0,lastEnabled:{state:null,saved:!0}};this.setState(a,(function(){t.props.deleteNote(t.props._ref,t.props.videoId)}))}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"handleBookmark",value:function(e){console.log("bookmark: ",this.props.note.bookmarked),this.handleSave(e,{value:"bookmarked",data:!this.props.note.bookmarked},!1)}},{key:"acceptSpecialSymbol",value:function(e,t,a){var n=this;9===e.keyCode&&t.include_tabs&&(e.preventDefault(),this.setState(Object(l.a)({},a,this.state[a]+String.fromCharCode(9)),(function(){console.log("new ".concat(a," value: "),n.state[a])}))),13===e.keyCode&&e.shiftKey&&t.SE_submit&&this.handleSave(e),13===e.keyCode&&t.E_submit&&this.handleSave(e)}},{key:"updateTimeStamp",value:function(e,t){this.handleSave(e,{value:"startTime",data:t()},!1)}},{key:"formatTimeStamp",value:function(e,t){var a=0,n=0,o=0;return e<60?(o=Math.trunc(e),i.a.createElement("div",null,i.a.createElement("div",{className:"web"===this.props.videoCategory?"timestamp":""},"0:",o<10?"0":"",o),"web"===this.props.videoCategory?i.a.createElement("a",{href:"https://youtu.be/".concat(this.props.ytVidId,"?t=").concat(o),className:"printOnlyTimeStamp"},"0:",o<10?"0":"",o):"")):e<3600?(n=Math.trunc(e/60),o=Math.trunc(e-60*n),i.a.createElement("div",null,n,":",o<10?"0":"",o)):e<86400?(a=Math.trunc(e/60/60),n=Math.trunc((e-60*a*60)/60),o=Math.trunc(e-60*a*60-60*n),i.a.createElement("div",null,a,":",n<10?"0":"",n,":",o<10?"0":"",o)):i.a.createElement("div",null,"Error: MAX_VIDEO_LENGTH EXCEEDED")}},{key:"formatUpdate",value:function(e){}},{key:"render",value:function(){var e=this;this.props.videoCategory!==this.state.videoCategory&&this.setState({videoCategory:this.props.videoCategory});var t=this.props.note,a=this.formatTimeStamp(t.startTime,t),n=t.lastUpdated,o=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(n),s=Object(C.a)(o,11),l=s[0].value,r=s[2].value,c=s[4].value,d=s[6].value,u=s[8].value,m=s[10].value;return console.log("".concat(r,"-").concat(l,"-").concat(c)),console.log("".concat(r,"\ud83d\udc60").concat(l,"\ud83d\udc62").concat(c)),i.a.createElement("div",{className:"ListItem "+this.props.additionalClasses},i.a.createElement("div",{onClick:function(){return e.props.setCurrVidTime(t.startTime)},className:"noteTitleContainer",title:this.state.noteTitle},i.a.createElement("div",{hidden:!this.state.noteTitle_disabled,className:this.state.noteTitle_disabled?"seekText titleDiv":""},"Go to:"),i.a.createElement("div",{className:"titleDiv"},a),i.a.createElement("div",{className:"  titleDiv"},"\xa0|\xa0"),i.a.createElement("input",{hidden:this.state.noteTitle_disabled,onChange:function(t,a){return e.handleInputChange(t,"noteTitle")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{E_submit:!0},null)},value:this.state.noteTitle,className:this.state.noteTitle_disabled?"":"noteTitleEditor titleDiv"}),i.a.createElement("div",{hidden:!this.state.noteTitle_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}:null,className:this.state.noteTitle_disabled?"noteTitleDisplay titleDiv":""},this.state.noteTitle),i.a.createElement("br",null)),i.a.createElement("pre",{hidden:!this.state.text_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"text_disabled")}:null,className:"noteMsgDisplay"},t.text),"Video ID: ",this.props.videoId," ||| Note ID ",t.noteId,i.a.createElement("div",{hidden:this.state.text_disabled,className:this.state.text_disabled?"":"noteMsgEditorContainer"},i.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"text")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{include_tabs:!0,SE_submit:!0},"text")},value:this.state.text,className:"noteMsgEditor"})),i.a.createElement("button",{onClick:function(t,a){return e.updateTimeStamp(t,e.props.getCurrVidTime)}},"Update Timestamp"),i.a.createElement("button",{onClick:function(t,a){return e.handleBookmark(t,"")}},"Bookmark Note ",i.a.createElement("div",{hidden:!t.bookmarked},i.a.createElement("i",{className:"fas fa-bookmark"})," ")," ",i.a.createElement("div",{hidden:t.bookmarked},i.a.createElement("i",{className:"far fa-bookmark"}))),i.a.createElement("button",{onClick:function(t,a){return e.handleDelete(t,"")}},"Delete Note"),i.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"text_disabled")}},"Toggle TextArea"),i.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}},"Toggle Title"),i.a.createElement("button",{hidden:null===this.state.lastEnabled.state||this.state.lastEnabled.saved,onClick:this.handleSave},"Save"),i.a.createElement("div",{className:"lastUpdatedTimestamp"},"Last Edited: ","".concat(l," ").concat(r,", ").concat(c," at ").concat(d,":").concat(u,":").concat(m)))}}]),a}(i.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={index:0,currentNoteId:0,noteRefArr:[]},n.handleShow=n.handleShow.bind(Object(d.a)(n)),n.findMostRecentNoteIdx=n.findMostRecentNoteIdx.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.props.itemList.notes;if(0===a.length)return-1;if(1===a.length)return 0;for(;t<a.length;){if(console.log("time comparisons: ",a[t].startTime,e),a.length>1&&t<a.length-1&&(console.log("time comparisons: ",a[t].startTime,e),a[t].startTime<=e&&a[t+1].startTime>e))return t;t+=1}return a.length-1}},{key:"handleShow",value:function(e,t,a){if(console.log("ref arrs: ",a,this.state.noteRefArr),"current"===e){var n=this.findMostRecentNoteIdx();n>0&&(a[n].current.scrollIntoView({block:"center",behavior:"smooth"}),console.log("mRIdx: ",n),this.setState({index:n}))}else console.log(this.refs,t),console.log(this.refs[toString(t)]),console.log("the refs: ",this.refs,this.refs[1]),a[t].current.scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:t})}},{key:"render",value:function(){var e=this,t=void 0!==this.props.itemList?this.props.itemList.notes:null;console.log("ITEMMMMS",t);for(var a=0,n=null,o=[];null!=t&&a<t.length;)n=i.a.createRef(),o.push(n),a+=1;return i.a.createElement("div",null,null!=t&&i.a.createElement("div",{className:"noteSectionVideoTitle"},null!=this.props.itemList.videoName?this.props.itemList.videoName:"Untitled Video"),null!=t&&"web"===this.props.itemList.category?i.a.createElement("div",{className:"noteSectionVideoLink"},"Watch Now: ",i.a.createElement("a",{href:this.props.itemList.url},this.props.itemList.url)):i.a.createElement("div",{className:"noteSectionVideoLink"},"Uploaded File"),null!=this.props.itemList&&this.props.itemList.videoId,i.a.createElement("ul",null,null!=t&&t.map((function(t,a){return i.a.createElement("div",{ref:o[a],key:"note"+a},i.a.createElement(S,{_ref:a,note:t,additionalClasses:a===e.state.index?"centerListItem":"",setCurrVidTime:e.props.setCurrVidTime,changeNote:e.props.changeNote,deleteNote:e.props.deleteNote,videoId:e.props.itemList.videoId,videoCategory:e.props.itemList.category,url:e.props.itemList.url,ytVidId:e.props.itemList.ytVidId,getCurrVidTime:e.props.getCurrVidTime}))}))),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",0,o)},"0"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",2,o)},"2"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",50,o)},"50"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"",99,o)},"99"),i.a.createElement("button",{onClick:this.handleShow.bind(this,"current",0,o)},"Current Note"),this.state.index)}}]),a}(i.a.Component),N=(a(89),a(29)),j=a(27),V=a(17),O=(a(90),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n.testConsoleLog=n.testConsoleLog.bind(Object(d.a)(n)),n.changeCurrentVideo=n.changeCurrentVideo.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"testConsoleLog",value:function(e){console.log("clicked button!")}},{key:"changeCurrentVideo",value:function(e,t,a){console.log("clicked changed:",a),t.playlist.currentItem(a)}},{key:"render",value:function(){var e=this,t=this.props.videoInfo,a=this.props.player;return console.log("Video playlist player:",a),i.a.createElement("div",{className:"videoInfoContainerInner",onClick:function(t,a,n){return e.changeCurrentVideo(t,e.props.player,e.props.videoIdxPos)}},i.a.createElement("img",{className:"thumbnail",src:t.thumbnail[0].srcset}),i.a.createElement("div",{className:"titleContainer"},i.a.createElement("div",{hidden:this.props.currentlyPlayingId!==this.props.videoIdxPos,className:"now-playing"},"Now Playing"),i.a.createElement("div",{className:"videoTitle"},null!==t.name?t.name:"Untitled Video")))}}]),a}(i.a.Component)),w=(a(91),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getItems=function(){var e=arguments.length>1?arguments[1]:void 0;if(void 0!=e)return e.map((function(e,t){return console.log(e),{id:"item-".concat(t),content:{videoInfo:e,text:"item- ".concat(t),text2:"....hello"}}}))},n.changeListEntries=function(e,t){var a=[];void 0==e?a=a:t.length>e.length?(a=n.addListEntry(e,t),console.log("newPlaylist: ",a,Object(N.a)(e),Object(N.a)(e)[0],Object(N.a)(e).push({text:"item- ".concat(e.length),text2:"....hello"}))):a=n.removeListEntry(e,t),n.setState({currentPlaylist:n.props.playlist,items:n.getItems(5,a)})},n.addListEntry=function(e,t){var a=e.map((function(e,t){return e.content.videoInfo}));return a.push(t[t.length-1]),a},n.removeListEntry=function(e,t){var a={};t.forEach((function(e){a[e.videoId]=!0})),console.log("videoIndexObj: ",a);for(var n=0,i=!1;n<e.length&&!i;){if(!0===t[e[n].content.videoInfo.videoId]){i=!0;var o=e.map((function(e,t){return e.content.videoInfo}));return console.log("newPlaylistRemove ",o,o[0]),o.split(n,1)}n+=1}},n.state={loaderStyle:"block",contentStyle:"none",playerRef:null,currentPlaylist:n.props.playlist,items:null},n.onDragEnd=n.onDragEnd.bind(Object(d.a)(n)),n.getItems=n.getItems.bind(Object(d.a)(n)),n.changeListEntries=n.changeListEntries.bind(Object(d.a)(n)),n.addListEntry=n.addListEntry.bind(Object(d.a)(n)),n.removeListEntry=n.removeListEntry.bind(Object(d.a)(n)),n.testConsoleLog=n.testConsoleLog.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.player.playlist(this.props.playlist,this.props.player.playlist.currentItem()),this.props.player.currentTime(this.props.currentTime),console.log("draggable is updating!4",this.props.player.currentTime(),this.props.currentTime,this.state.items,this.props.playlist,this.getItems(3,this.props.playlist)),void 0==this.state.items&&(console.log("draggable is updating!5"),this.setState({items:this.getItems(3,this.props.playlist)},(function(){console.log("draggable is updating!5",t.state.items)}))),this.state.currentPlaylist.length!=this.props.playlist.length&&(this.changeListEntries(this.state.items,this.props.playlist),this.setState({loaderStyle:"none",contentStyle:"block"}))}},{key:"componentDidMount",value:function(){console.log("hit!!"),console.log("The Current Playlist:",this.props.playlist),console.log("player: ",this.props.player,this.props.test),void 0!==this.props.player&&null!=this.props.player&&(this.props.player.playlist(this.props.playlist),console.log("the playlist2: ",this.props.player.playlist()),this.props.player.playlist.autoadvance(0),void 0==this.state.items&&(console.log("state is undefined:",this.state.items,this.props.playlist),this.setState({loaderStyle:"none",contentStyle:"block"})))}},{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),i=n.splice(t,1),o=Object(C.a)(i,1)[0];return n.splice(a,0,o),console.log(a),n}(this.state.items,e.source.index,e.destination.index);this.setState({items:t})}}},{key:"testConsoleLog",value:function(e){console.log("clicked button!")}},{key:"render",value:function(){var e=this;return console.log("state is not undefined:",this.state.items,this.props.playlist,this.getItems(5,this.props.playlist)),i.a.createElement("div",null,i.a.createElement(V.a,{onDragEnd:this.onDragEnd},i.a.createElement(V.c,{droppableId:"droppable"},(function(t,a){return i.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"playlistContainer ".concat((n=a.isDraggingOver,console.log("isDraggingOver: ",n,n?"dragging":"not-dragging"),n?"dragging-state":"not-dragging-state"))}),null!=e.state.items&&e.state.items.map((function(t,a){return i.a.createElement(V.b,{key:t.id,draggableId:t.id,index:a},(function(n,o){return i.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,{style:(o.isDragging,l=n.draggableProps.style,Object(j.a)({},l)),className:"videoContainer ".concat((s=o.isDragging,s?"video-dragging-state":"video-not-dragging-state")),onClick:console.log("clicked!")}),i.a.createElement("div",Object.assign({className:"handle"},n.dragHandleProps)," = "),i.a.createElement(O,{className:"videoInfoContainerOuter",videoInfo:t.content.videoInfo,onMouseDown:function(e){return e.stopPropagation()},onClick:e.testConsoleLog,player:e.props.player,currentlyPlayingId:e.props.currentlyPlayingId,videoIdxPos:a}),i.a.createElement("div",{className:"delete",onClick:function(a,n){return e.props.deleteVideo(a,t.content.videoInfo.videoId)}}," X "));var s,l}))})),t.placeholder);var n}))))}}]),a}(i.a.Component)),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={open:!0},n.togglePlaylistVisibility=n.togglePlaylistVisibility.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"togglePlaylistVisibility",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){return console.log("player3: ",this.player),i.a.createElement("div",{className:"playlistContainerMaster ".concat(this.state.open?" closed ":" open ")},i.a.createElement("div",{className:"playlistBar",onClick:this.togglePlaylistVisibility}," Playlist "),i.a.createElement(w,{player:this.props.player,playlist:this.props.playlist,test:this.props.test,currentlyPlayingId:this.props.currentlyPlayingId,deleteVideo:this.props.deleteVideo,currentTime:this.props.currentTime}))}}]),a}(i.a.Component),x=(i.a.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={editing:!1,currentNoteTime:null,createdTime:null,text:"",noteTitle:"",bookmarked:!1,lastEnabled:{state:null,saved:!0},videoCategory:n.props.videoCategory,videoId:n.props.videoId,saved:!1},n.handleSave=n.handleSave.bind(Object(d.a)(n)),n.acceptSpecialSymbol=n.acceptSpecialSymbol.bind(Object(d.a)(n)),n.updateTimeStamp=n.updateTimeStamp.bind(Object(d.a)(n)),n.formatTimeStamp=n.formatTimeStamp.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){(this.state.saved||""===this.state.text&&""===this.state.noteTitle&&null!==this.state.currentNoteTime)&&this.setState({saved:!1,text:"",noteTitle:"",bookmarked:!1,currentNoteTime:null}),e.videoId!==this.props.videoId?(console.log("updating videoId...",e.videoId,this.props.videoId),this.setState({videoId:this.props.videoId})):console.log("not updating...")}},{key:"handleShow",value:function(e){console.log(this.refs,e),console.log(this.refs[toString(e)]),this.refs[e].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:e})}},{key:"handleSave",value:function(e){var t=this;this.setState({saved:!0},(function(){t.props.addNote(e,t.state.videoId,t.state.currentNoteTime,t.state.noteTitle,t.state.text,t.state.bookmarked)}))}},{key:"handleInputChange",value:function(e,t){var a=this,n=Object(l.a)({},t,e.target.value);null===this.state.currentNoteTime&&(n.currentNoteTime=this.props.getCurrVidTime()),this.setState(n,(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"handleBookmark",value:function(e){this.setState({bookmarked:!this.state.bookmarked})}},{key:"acceptSpecialSymbol",value:function(e,t,a){var n=this;9===e.keyCode&&t.include_tabs&&(e.preventDefault(),this.setState(Object(l.a)({},a,this.state[a]+String.fromCharCode(9)),(function(){console.log("new ".concat(a," value: "),n.state[a])}))),13===e.keyCode&&e.shiftKey&&t.SE_submit&&this.handleSave(e),13===e.keyCode&&t.E_submit&&this.handleSave(e)}},{key:"updateTimeStamp",value:function(e,t){this.setState({currentNoteTime:t()})}},{key:"formatTimeStamp",value:function(e,t){var a=0,n=0,o=0;return e<60?(o=Math.trunc(e),i.a.createElement("div",{className:"web"===this.props.videoCategory?"timestamp":""},"0:",o<10?"0":"",o)):e<3600?(n=Math.trunc(e/60),o=Math.trunc(e-60*n),i.a.createElement("div",null,n,":",o<10?"0":"",o)):e<86400?(a=Math.trunc(e/60/60),n=Math.trunc((e-60*a*60)/60),o=Math.trunc(e-60*a*60-60*n),i.a.createElement("div",null,a,":",n<10?"0":"",n,":",o<10?"0":"",o)):i.a.createElement("div",null,"Error: MAX_VIDEO_LENGTH EXCEEDED")}},{key:"formatUpdate",value:function(e){}},{key:"render",value:function(){var e=this;this.props.videoCategory!==this.state.videoCategory&&this.setState({videoCategory:this.props.videoCategory});var t=this.props.note,a=this.formatTimeStamp(this.state.currentNoteTime,t),n=Date.now(),o=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(n),s=Object(C.a)(o,11),l=s[0].value,r=s[2].value,c=s[4].value;s[6].value,s[8].value,s[10].value;return console.log("".concat(r,"-").concat(l,"-").concat(c)),console.log("".concat(r,"\ud83d\udc60").concat(l,"\ud83d\udc62").concat(c)),i.a.createElement("div",{className:"ListItem "+this.props.additionalClasses},i.a.createElement("div",{onClick:function(){return e.props.setCurrVidTime(e.state.currentNoteTime)},className:"noteTitleContainer",title:this.state.noteTitle},i.a.createElement("div",{className:"seekText titleDiv"},"Go to:"),i.a.createElement("div",{className:"titleDiv"},a),i.a.createElement("div",{className:"  titleDiv"},"\xa0|\xa0"),i.a.createElement("input",{onChange:function(t,a){return e.handleInputChange(t,"noteTitle")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{E_submit:!0},null)},value:this.state.noteTitle,className:"noteTitleEditor titleDiv",placeholder:this.state.text}),i.a.createElement("br",null)),i.a.createElement("div",{className:"noteMsgEditorContainer"},i.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"text")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{include_tabs:!0,SE_submit:!0},"text")},value:this.state.text,className:"noteMsgEditor"})),i.a.createElement("button",{onClick:function(t,a){return e.updateTimeStamp(t,e.props.getCurrVidTime)}},"Update Timestamp"),i.a.createElement("button",{onClick:function(t,a){return e.handleBookmark(t,"")}},"Bookmark Note ",i.a.createElement("div",{hidden:!this.state.bookmarked},i.a.createElement("i",{className:"fas fa-bookmark"})," ")," ",i.a.createElement("div",{hidden:this.state.bookmarked},i.a.createElement("i",{className:"far fa-bookmark"}))),i.a.createElement("button",{onClick:this.handleSave},"Save"))}}]),a}(i.a.Component)),P=(p.a,{maxVideoId:3,maxNoteId:3,noteData:[{videoId:0,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=3WQHDUYk310&feature=emb_rel_pause",videoName:"Dummy YouTube VideoName 1",ytVidId:"3WQHDUYk310",fileObj:null,currentTime:0,bookmarkTotal:0,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message111",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:1,endTime:null,noteTitle:null,text:"This is a test message222",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:1,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=voFRslp8d60&t=17s",videoName:null,ytVidId:"voFRslp8d60",fileObj:null,currentTime:0,bookmarkTotal:0,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message333",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:2,category:"local",type:"video/mp4",url:g.a,videoName:"testVid.mp4",ytVidId:null,fileObj:null,currentTime:0,bookmarkTotal:0,notes:[{noteId:2,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:3,startTime:0,endTime:null,noteTitle:null,text:"This is a test message555",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]}],settings:{warnings:!1,reverse_shift_enter_submit:!1,show_undo:!1}}),L={txt:{type:"text",valid:!0},jpg:{type:"image",valid:!0},mp4:{type:"video",valid:!0}},R=new b.a,_=(R.folder("Images"),R.folder("Videos"));_.folder("Originals"),_.folder("Drawn"),R.folder("Data");R.folder("Meta").file("meta.txt",JSON.stringify(P));var M=function(e){return e.substr(e.lastIndexOf(".")+1)},B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={videoRef:null,videoInfo:{},newNote:"",newVideoLink:"",meta:P,backupMeta:null,info:"asdf",uploadedVideos:[],currPlayingVid:{},currPlayingVidId:0,lastPlayingVidId:0,fileContents:"blah blah",lastStartTime:0},n.setVideoRef=n.setVideoRef.bind(Object(d.a)(n)),n.getVideoRef=n.getVideoRef.bind(Object(d.a)(n)),n.getCurrVidTime=n.getCurrVidTime.bind(Object(d.a)(n)),n.setCurrVidTime=n.setCurrVidTime.bind(Object(d.a)(n)),n.addNote=n.addNote.bind(Object(d.a)(n)),n.changeNote=n.changeNote.bind(Object(d.a)(n)),n.deleteNote=n.deleteNote.bind(Object(d.a)(n)),n.uploadFile=n.uploadFile.bind(Object(d.a)(n)),n.addToPlaylist=n.addToPlaylist.bind(Object(d.a)(n)),n.deleteVideo=n.deleteVideo.bind(Object(d.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.acceptSpecialSymbol=n.acceptSpecialSymbol.bind(Object(d.a)(n)),n.findMostRecentNoteIdx=n.findMostRecentNoteIdx.bind(Object(d.a)(n)),n.findNewNoteIdx=n.findNewNoteIdx.bind(Object(d.a)(n)),n.recursiveBinarySearch=n.recursiveBinarySearch.bind(Object(d.a)(n)),n.YouTubeGetID=n.YouTubeGetID.bind(Object(d.a)(n)),n.loadProject=n.loadProject.bind(Object(d.a)(n)),n.downloadProject=n.downloadProject.bind(Object(d.a)(n)),n.loadBackupProject=n.loadBackupProject.bind(Object(d.a)(n)),n.testConsoleLog=n.testConsoleLog.bind(Object(d.a)(n)),n.printPlayer=n.printPlayer.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"setVideoRef",value:function(e){var t=this;e.on("beforeplaylistitem",(function(){var a=e.playlist.currentIndex();t.state.meta;console.log("Video before switching:",a,t.state.videoRef.currentTime()),t.setState({lastStartTime:t.state.videoRef.currentTime()},(function(){console.log("hiiii222",t.state.currPlayingVid,t.state.lastStartTime)}))})),e.on("playlistitem",(function(){var a=e.playlist.currentIndex(),n=t.state.meta;if(console.log("Video switching:",t.state.videoRef,null==t.state.videoRef?"null":t.state.videoRef,"      last start time:",t.state.lastStartTime),void 0!=t.state.videoRef&&null!=t.state.videoRef){console.log("ref is defined",t.state.videoRef,"end");var i=t.state.lastPlayingVidId,o=t.state.lastStartTime;console.log("Video Switch values:",i,a,n.noteData[i].currentTime,t.state.meta.noteData[a].currentTime),n.noteData[i].currentTime=o,console.log("Video Switch values2:",o,i,a,n.noteData[i].currentTime,n.noteData[a].currentTime)}t.setState({currPlayingVid:e.playlist()[a],lastPlayingVidId:t.state.currPlayingVidId,currPlayingVidId:a,meta:n},(function(){console.log("hiiii222",t.state.currPlayingVid,t.state.currPlayingVidId),t.setCurrVidTime(400)}))})),this.setState({videoRef:e})}},{key:"getVideoRef",value:function(){return this.state.videoRef}},{key:"getCurrVidTime",value:function(e){return this.state.videoRef.currentTime()}},{key:"setCurrVidTime",value:function(e){console.log("setting ref:",this.state.videoRef,e),null!=this.state.videoRef&&(this.state.videoRef.currentTime(e),console.log("setting ref2:",this.state.videoRef.currentTime()))}},{key:"addNote",value:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];console.log(this.state.newNote);var l=this.state.meta;console.log("current playing id:",this.state.currPlayingVidId);var r=this.state.meta.noteData[this.state.currPlayingVidId].notes,c=r.length,d=0;c>0&&(d=this.findNewNoteIdx(a,r,c)),l.noteData[this.state.currPlayingVidId].notes.splice(d+1,0,{noteId:l.maxNoteId+1,startTime:a,endTime:null,noteTitle:""!=i?i:null,text:o,bookmarked:s,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}),l.maxNoteId=l.maxNoteId+1,this.setState({meta:l,newNote:"",info:this.state.newNote},(function(){console.log(n.state.meta)}))}},{key:"changeNote",value:function(e,t,a,n,i){var o=this,s=this.state.meta;s.noteData[i].notes[a][n]=t,s.noteData[i].notes[a].lastUpdated=Date.now(),this.setState({meta:s},(function(){console.log(o.state.meta)}))}},{key:"deleteNote",value:function(e,t){var a=this,n=this.state.meta;n.noteData[t].notes.splice(e,1),this.setState({meta:n},(function(){console.log(a.state.meta)}))}},{key:"deleteVideo",value:function(e,t){for(var a=this,n=this.state.meta,i=!1,o=0;!i&&o<n.noteData.length;)n.noteData[o].videoId==t&&(n.noteData.splice(o,1),i=!0),i||(o+=1);var s={meta:n};(o==this.state.currPlayingVidId||n.noteData.length<=0)&&(s.currPlayingVidId=0),this.setState(s,(function(){console.log(a.state.meta)}))}},{key:"addToPlaylist",value:function(e,t,a){var n=this,i="",o="",s="",l=null,r=null;if("web"===t)i="video/youtube",o=this.state.newVideoLink,l=this.YouTubeGetID(o),s=o;else if("local"===t){var c=e.target.value.split("\\").pop();i="video/"+M(e.target.value),r=e.target.files[0],o=URL.createObjectURL(e.target.files[0]),s=c}var d=this.state.meta;d.noteData.push({videoId:parseInt(d.maxVideoId)+1,category:t,type:i,url:o,videoName:s,ytVidId:l,fileObj:r,currentTime:0,bookmarkTotal:0,notes:[]}),d.maxVideoId=parseInt(d.maxVideoId)+1,this.setState({meta:d,newVideoLink:""},(function(){console.log("meta after: ",n.state.meta)}))}},{key:"uploadFile",value:function(e){if(""!==e.target.value){var t=e.target.value.split("\\").pop();M(t);this.addToPlaylist(e,"local",e.target)}}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"acceptSpecialSymbol",value:function(e,t){var a=this;9===e.keyCode&&(e.preventDefault(),this.setState(Object(l.a)({},t,this.state[t]+String.fromCharCode(9)),(function(){console.log("new ".concat(t," value: "),a.state[t])})))}},{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.state.meta.noteData[this.state.currPlayingVidId].notes;if(0===a.length)return-1;if(1===a.length)return 0;for(;t<a.length;){if(a.length>1&&t<a.length-1&&a[t].startTime<=e&&a[t+1].startTime>e)return t;t+=1}return a.length-1}},{key:"findNewNoteIdx",value:function(e,t,a,n){var i=e,o=t;return 0===a?-2:1===a?o[0].startTime<i?0:-1:this.recursiveBinarySearch(o,i,0,a-1,a)}},{key:"recursiveBinarySearch",value:function(e,t,a,n,i){if(a>n)return n;var o=Math.floor((a+n)/2);if(o<i-1){if(e[o].startTime<=t&&e[o+1].startTime>t)return o}else if(o===i-1&&e[o].startTime>=t)return o;return e[o].startTime>t?this.recursiveBinarySearch(e,t,a,o-1,i):this.recursiveBinarySearch(e,t,o+1,n,i)}},{key:"YouTubeGetID",value:function(e){return void 0!==(e=e.split(/(vi\/|v%3D|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_-]/i)[0]:e[0]}},{key:"loadProject",value:function(e,t){for(var a=this,n=e.target.files,i=0,o=0;i<n.length;){var s=e.target.files[i].name,l=M(s),r=L[l];if(void 0!==r&&r.valid)switch(r.type){case"video":case"image":break;case"text":"meta.txt"===s&&(o=i)}i+=1}var c=e.target.files[o],d=(URL.createObjectURL(e.target.files[0]),new FileReader);d.onloadend=function(){var e=d.result,t=JSON.parse(d.result);a.setState({backupMeta:a.state.meta,meta:t,fileContents:e},(function(){console.log("hiiii",a.state.fileContents)}))},d.readAsText(c)}},{key:"loadBackupProject",value:function(e,t){this.setState({backupMeta:this.state.meta,meta:this.state.backupMeta})}},{key:"downloadProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new b.a,a=(t.folder("Images"),t.folder("Videos")),n=(a.folder("Originals"),a.folder("Drawn"),t.folder("Data"),t.folder("Meta"));n.file("meta.txt",JSON.stringify(this.state.meta)),t.generateAsync({type:"blob"}).then((function(t){var a="VidNotes "+Date.now()+".zip";e||k.a.saveAs(t,a)}))}},{key:"testConsoleLog",value:function(e){console.log("clicked button!")}},{key:"printPlayer",value:function(){console.log(this.state.videoRef)}},{key:"render",value:function(){var e=this,t=[];return this.state.meta.noteData.forEach((function(e){t.push({videoId:e.videoId,currentTime:e.currentTime,name:e.videoName,sources:[{src:e.url,type:e.type}],poster:"http://media.w3.org/2010/05/sintel/poster.png",thumbnail:[{srcset:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg",type:"image/jpeg",media:"(min-width: 400px;)"},{src:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg"}]})})),i.a.createElement("div",{className:"tripleColumnContainer"},i.a.createElement("div",{className:"videoPlayer"},i.a.createElement(E,Object.assign({},{autoplay:!0,controls:!0},{setVidRef:this.setVideoRef,test:"hi"})),null!==this.state.videoRef&&void 0!==this.state.videoRef&&void 0!=={playlistJSON:t}&&i.a.createElement(D,{player:this.state.videoRef,playlist:t,test:"this should APPEAR",currentlyPlayingId:this.state.currPlayingVidId,deleteVideo:this.deleteVideo,currentTime:400}),i.a.createElement("div",{className:"playListInputContainer"},i.a.createElement("input",{onChange:function(t,a){return e.handleInputChange(t,"newVideoLink")},className:"playlistInputField",value:this.state.newVideoLink,placeholder:"video url..."}),i.a.createElement("button",{className:"playlistButton",onClick:function(t,a){return e.addToPlaylist(t,"web")},type:"submit"},"Add to Playlist")),i.a.createElement("button",{onClick:this.downloadProject},"Download Info "),i.a.createElement("button",{onClick:this.loadBackupProject},"Revert to Last Project"),i.a.createElement("input",{onChange:function(t,a){return e.loadProject(t,"local")},directory:"",webkitdirectory:"",mozdirectory:"",type:"file"}),i.a.createElement("div",{className:"g-savetodrive","data-src":g.a,"data-filename":"My Statement.mp4","data-sitename":"My Company Name"}),this.state.meta.noteData.length>0&&i.a.createElement(x,{setCurrVidTime:this.setCurrVidTime,getCurrVidTime:this.getCurrVidTime,addNote:this.addNote,videoId:this.state.currPlayingVidId,defaults:{noteTitle:"",title:"",currentNoteTime:null,bookmarked:!1}})),i.a.createElement("div",{className:"notes"},i.a.createElement("div",null,this.state.currPlayingVid!=={}&&console.log("current video: ",this.state.currPlayingVid,this.state.currPlayingVid.sources)),i.a.createElement(I,{id:"list",itemList:this.state.meta.noteData[this.state.currPlayingVidId],setCurrVidTime:this.setCurrVidTime,getCurrVidTime:this.getCurrVidTime,changeNote:this.changeNote,deleteNote:this.deleteNote}),i.a.createElement("form",null,i.a.createElement("input",{type:"button",name:"print",value:"Print Page",onClick:function(){window.print()}}))))}}]),a}(i.a.Component);var U=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.70b7271f.chunk.js.map