(this.webpackJsonpvidnote=this.webpackJsonpvidnote||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/testFile.a8f4de44.txt"},20:function(e,t,a){e.exports=a.p+"static/media/testVid.b60f6e67.mp4"},25:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/testVid.b60f6e67.mp4"},39:function(e,t,a){},49:function(e,t,a){e.exports=a(81)},54:function(e,t,a){},55:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},56:function(e,t,a){},63:function(e,t){},79:function(e,t){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),o=a(40),s=a.n(o),l=(a(54),a(55),a(56),a(13)),r=a(9),d=a(10),c=a(6),u=a(12),m=a(11),h=(a(25),a(19)),p=a.n(h),v=(a(30),a(20)),g=a.n(v),f=a(15),b=a.n(f),y=a(16),T=a.n(y),k=a(8),w=(a(18),a(37),a(38),a(39),a(80),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={playerRef:null,currentPlaylist:[]},i}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return console.log("compare it2:",e.playlist,this.props.playlist,e.playlist.length!=this.props.playlist.length),e.playlist.length!=this.props.playlist.length}},{key:"componentDidUpdate",value:function(e){var t=this;e.playlist!==this.props.playlist&&this.setState({currentPlaylist:this.props.playlist},(function(){console.log("The Current Playlist UPDATED:",t.props.playlist),t.props.player.playlist(t.props.playlist,t.props.player.playlist.currentItem())}))}},{key:"componentDidMount",value:function(){console.log("hit!!"),console.log("The Current Playlist:",this.props.playlist),console.log("player: ",this.props.player,this.props.test),void 0!=this.props.player&&null!=this.props.player&&(this.props.player.playlist(this.props.playlist),console.log("the playlist2: ",this.props.player.playlist()),this.props.player.playlist.autoadvance(0),this.props.player.playlistUi())}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{class:"vjs-playlist"}))}}]),a}(n.a.Component)),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).getTime=function(){console.log(i.player,i.videoNode,i.player.currentTime()),console.log("player ref from button:",i.player,"    .... end"),i.setState({currentTime:i.player.currentTime()})},i.state={currentTime:0},i.getTime=i.getTime.bind(Object(c.a)(i)),i}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(e){this.player=Object(k.default)(this.videoNode,this.props,(function(){console.log("onPlayerReady",this)})),this.props.setVidRef(this.player),console.log("player2: ",this.player)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return console.log("player3: ",this.player),n.a.createElement("div",null,n.a.createElement("div",{"data-vjs-player":!0},n.a.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js mainVideo"})),n.a.createElement("button",{onClick:this.getTime},"Get Current Time:"),n.a.createElement("span",null,"Time:",this.state.currentTime))}}]),a}(n.a.Component),C=a(48),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={editing:!1,text_disabled:!0,noteTitle_disabled:!0,text:i.props.note.text,noteTitle:null!=i.props.note.noteTitle?i.props.note.noteTitle:i.props.note.text,noteSectionVideoId:i.props.videoId,lastEnabled:{state:null,saved:!0},videoCategory:i.props.videoCategory},i.handleToggleState=i.handleToggleState.bind(Object(c.a)(i)),i.handleSave=i.handleSave.bind(Object(c.a)(i)),i.acceptSpecialSymbol=i.acceptSpecialSymbol.bind(Object(c.a)(i)),i.convertDisableStatusToValue=i.convertDisableStatusToValue.bind(Object(c.a)(i)),i.updateTimeStamp=i.updateTimeStamp.bind(Object(c.a)(i)),i.formatTimeStamp=i.formatTimeStamp.bind(Object(c.a)(i)),i}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){e.videoId!=this.props.videoId?(this.setState({text_disabled:!0,noteTitle_disabled:!0}),console.log("updating...")):console.log("not updating...")}},{key:"handleShow",value:function(e){console.log(this.refs,e),console.log(this.refs[toString(e)]),this.refs[e].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:e})}},{key:"handleToggleState",value:function(e,t){var a,i=this;this.setState((a={},Object(l.a)(a,t,!this.state[t]),Object(l.a)(a,"lastEnabled",{state:t,saved:!1}),a),(function(){console.log("Toggling ",t,i.state[t])}))}},{key:"convertDisableStatusToValue",value:function(e){switch(e){case"text_disabled":return"text";case"noteTitle_disabled":return"noteTitle"}}},{key:"handleSave",value:function(e){var t,a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state.lastEnabled;console.log("saving....",n,n.state,this.state[n.state],this.state.text);var o=this.convertDisableStatusToValue(n.state),s=(t={},Object(l.a)(t,n.state,!this.state[n.state]),Object(l.a)(t,"lastEnabled",{state:this.state.lastEnabled.state,saved:!0}),t);this.setState(s,(function(){console.log("text_disabled: ",a.state[o],o,i),a.props.changeNote(a.props.note,null!==i&&void 0!==i?i.data:a.state[o],a.props._ref,null!==i&&void 0!==i?i.value:o,a.props.videoId)}))}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"acceptSpecialSymbol",value:function(e,t,a){var i=this;9==e.keyCode&&t.include_tabs&&(e.preventDefault(),this.setState(Object(l.a)({},a,this.state[a]+String.fromCharCode(9)),(function(){console.log("new ".concat(a," value: "),i.state[a])}))),13==e.keyCode&&e.shiftKey&&t.SE_submit&&this.handleSave(e),13==e.keyCode&&t.E_submit&&this.handleSave(e)}},{key:"updateTimeStamp",value:function(e,t){this.handleSave(e,{value:"startTime",data:t()})}},{key:"formatTimeStamp",value:function(e,t){var a=0,i=0,o=0;return e<60?(o=Math.trunc(e),n.a.createElement("div",null,n.a.createElement("div",{className:"web"==this.props.videoCategory?"timestamp":""},"0:",o<10?"0":"",o),"web"==this.props.videoCategory?n.a.createElement("a",{href:"https://youtu.be/".concat(this.props.ytVidId,"?t=").concat(o),className:"printOnlyTimeStamp"},"0:",o<10?"0":"",o):"")):e<3600?(i=Math.trunc(e/60),o=Math.trunc(e-60*i),n.a.createElement("div",null,i,":",o<10?"0":"",o)):e<86400?(a=Math.trunc(e/60/60),i=Math.trunc((e-60*a*60)/60),o=Math.trunc(e-60*a*60-60*i),n.a.createElement("div",null,a,":",i<10?"0":"",i,":",o<10?"0":"",o)):n.a.createElement("div",null,"Error: MAX_VIDEO_LENGTH EXCEEDED")}},{key:"formatUpdate",value:function(e){}},{key:"render",value:function(){var e=this;this.props.videoCategory!=this.state.videoCategory&&this.setState({videoCategory:this.props.videoCategory});var t=this.props.note,a=this.formatTimeStamp(t.startTime,t),i=t.lastUpdated,o=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(i),s=Object(C.a)(o,11),l=s[0].value,r=s[2].value,d=s[4].value,c=s[6].value,u=s[8].value,m=s[10].value;return console.log("".concat(r,"-").concat(l,"-").concat(d)),console.log("".concat(r,"\ud83d\udc60").concat(l,"\ud83d\udc62").concat(d)),n.a.createElement("div",{ref:this.props._ref,className:"ListItem "+this.props.additionalClasses},n.a.createElement("div",{onClick:function(){return e.props.setCurrVidTime(t.startTime)},className:"noteTitleContainer",title:this.state.noteTitle},n.a.createElement("div",{hidden:!this.state.noteTitle_disabled,className:this.state.noteTitle_disabled?"seekText titleDiv":""},"Go to:"),n.a.createElement("div",{className:"titleDiv"},a),n.a.createElement("div",{className:"  titleDiv"},"\xa0|\xa0"),n.a.createElement("input",{hidden:this.state.noteTitle_disabled,onChange:function(t,a){return e.handleInputChange(t,"noteTitle")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{E_submit:!0},null)},value:this.state.noteTitle,className:this.state.noteTitle_disabled?"":"noteTitleEditor titleDiv"}),n.a.createElement("div",{hidden:!this.state.noteTitle_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}:null,className:this.state.noteTitle_disabled?"noteTitleDisplay titleDiv":""},this.state.noteTitle),n.a.createElement("br",null)),n.a.createElement("pre",{hidden:!this.state.text_disabled,onDoubleClick:this.state.lastEnabled.saved?function(t,a){return e.handleToggleState(t,"text_disabled")}:null,className:"noteMsgDisplay"},t.text),n.a.createElement("div",{hidden:this.state.text_disabled,className:this.state.text_disabled?"":"noteMsgEditorContainer"},n.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"text")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,{include_tabs:!0,SE_submit:!0},"text")},value:this.state.text,className:"noteMsgEditor"})),n.a.createElement("button",{onClick:function(t,a){return e.updateTimeStamp(t,e.props.getCurrVidTime)}},"Update Timestamp"),n.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"text_disabled")}},"Toggle TextArea"),n.a.createElement("button",{hidden:!this.state.lastEnabled.saved,onClick:function(t,a){return e.handleToggleState(t,"noteTitle_disabled")}},"Toggle Title"),n.a.createElement("button",{hidden:null==this.state.lastEnabled.state||this.state.lastEnabled.saved,onClick:this.handleSave},"Save"),n.a.createElement("div",null,"Last Edited: ","".concat(l," ").concat(r,", ").concat(d," at ").concat(c,":").concat(u,":").concat(m)),n.a.createElement("div",null,null!=this.state.videoCategory&&void 0!=this.state.videoCategory&&"hello"&this.state.videoCategory),n.a.createElement("select",null,n.a.createElement("option",{value:"grapefruit"},"Grapefruit"),n.a.createElement("option",{value:"lime"},"Lime"),n.a.createElement("option",{selected:!0,value:"coconut"},"Coconut"),n.a.createElement("option",{value:"mango"},"Mango")))}}]),a}(n.a.Component),S=(p.a,{maxVideoId:1,maxNoteId:3,noteData:[{videoId:0,type:"web",source:"YouTube",url:"",fileName:null,notes:[{noteId:0,startTime:Date(),endTime:null,text:"This is a test message111",bookmarked:!1,drawn:!1,images:[]},{noteId:1,startTime:Date(),endTime:null,text:"This is a test message222",bookmarked:!1,drawn:!1,images:[]}]},{videoId:1,type:"local",source:null,url:null,fileName:"testVid.mp4",notes:[{noteId:2,startTime:Date(),endTime:null,text:"This is a test message3",bookmarked:!1,drawn:!1,images:[]},{noteId:3,startTime:Date(),endTime:null,text:"This is a test message4",bookmarked:!1,drawn:!1,images:[]}]}]}),V=new b.a,N=(V.folder("Images"),V.folder("Videos"));N.folder("Originals"),N.folder("Drawn"),V.folder("Data");V.folder("Meta").file("meta.txt",JSON.stringify(S));var x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={index:0,currentNoteId:0},i.handleShow=i.handleShow.bind(Object(c.a)(i)),i.findMostRecentNoteIdx=i.findMostRecentNoteIdx.bind(Object(c.a)(i)),i}return Object(d.a)(a,[{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.props.itemList.notes;if(0==a.length)return-1;if(1==a.length)return 0;for(;t<a.length;){if(console.log("time comparisons: ",a[t].startTime,e),a.length>1&&t<a.length-1&&(console.log("time comparisons: ",a[t].startTime,e),a[t].startTime<=e&&a[t+1].startTime>e))return t;t+=1}return a.length-1}},{key:"handleShow",value:function(e,t){if("current"==e){var a=this.findMostRecentNoteIdx();a>0&&(this.refs[a].scrollIntoView({block:"center",behavior:"smooth"}),console.log("mRIdx: ",a),this.setState({index:a}))}else console.log(this.refs,t),console.log(this.refs[toString(t)]),console.log("the refs: ",this.refs,this.refs[1]),this.refs[t].scrollIntoView({block:"center",behavior:"smooth"}),this.setState({index:t})}},{key:"render",value:function(){var e=this,t=this.props.itemList.notes;return console.log("ITEMMMMS",t),n.a.createElement("div",null,n.a.createElement("div",{className:"noteSectionVideoTitle"},null!=this.props.itemList.videoName?this.props.itemList.videoName:"Untitled Video"),"web"==this.props.itemList.category?n.a.createElement("div",{className:"noteSectionVideoLink"},"Watch Now: ",n.a.createElement("a",{href:this.props.itemList.url},this.props.itemList.url)):n.a.createElement("div",{className:"noteSectionVideoLink"},"Uploaded File"),this.state.index,n.a.createElement("ul",null,t.map((function(t,a){return a==e.state.index?n.a.createElement("div",{ref:a},n.a.createElement(I,{_ref:a,note:t,additionalClasses:"centerListItem",setCurrVidTime:e.props.setCurrVidTime,changeNote:e.props.changeNote,videoId:e.props.itemList.videoId,videoCategory:e.props.itemList.category,url:e.props.itemList.url,ytVidId:e.props.itemList.ytVidId,getCurrVidTime:e.props.getCurrVidTime})):n.a.createElement("div",{ref:a},n.a.createElement(I,{_ref:a,note:t,additionalClasses:"",setCurrVidTime:e.props.setCurrVidTime,changeNote:e.props.changeNote,videoId:e.props.itemList.videoId,videoCategory:e.props.itemList.category,url:e.props.itemList.url,ytVidId:e.props.itemList.ytVidId,getCurrVidTime:e.props.getCurrVidTime}))}))),n.a.createElement("button",{onClick:this.handleShow.bind(this,"",0)},"0"),n.a.createElement("button",{onClick:this.handleShow.bind(this,"",2)},"2"),n.a.createElement("button",{onClick:this.handleShow.bind(this,"",50)},"50"),n.a.createElement("button",{onClick:this.handleShow.bind(this,"",99)},"99"),n.a.createElement("button",{onClick:this.handleShow.bind(this,"current",0)},"Current Note"),this.state.index)}}]),a}(n.a.Component),j=p.a,D={maxVideoId:3,maxNoteId:3,noteData:[{videoId:0,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=3WQHDUYk310&feature=emb_rel_pause",videoName:"Dummy YouTube VideoName 1",ytVidId:"3WQHDUYk310",fileObj:null,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message111",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:1,endTime:null,noteTitle:null,text:"This is a test message222",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:1,category:"web",type:"video/youtube",url:"https://www.youtube.com/watch?v=voFRslp8d60&t=17s",videoName:null,ytVidId:"voFRslp8d60",fileObj:null,notes:[{noteId:0,startTime:0,endTime:null,noteTitle:null,text:"This is a test message333",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:1,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]},{videoId:2,category:"local",type:"video/mp4",url:g.a,videoName:"testVid.mp4",ytVidId:null,fileObj:null,notes:[{noteId:2,startTime:0,endTime:null,noteTitle:null,text:"This is a test message444",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]},{noteId:3,startTime:0,endTime:null,noteTitle:null,text:"This is a test message555",bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}]}],settings:{warnings:!1,reverse_shift_enter_submit:!1,show_undo:!1}},O={txt:{type:"text",valid:!0},jpg:{type:"image",valid:!0},mp4:{type:"video",valid:!0}},P=new b.a,L=(P.folder("Images"),P.folder("Videos"));L.folder("Originals"),L.folder("Drawn"),P.folder("Data");P.folder("Meta").file("meta.txt",JSON.stringify(D));for(var _=function(){P.generateAsync({type:"blob"}).then((function(e){var t="VidNotes "+Date.now()+".zip";T.a.saveAs(e,t)}))},R=[],M=0;M<100;M++)R.push(M+"d");var U=function(e){return e.substr(e.lastIndexOf(".")+1)},A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={videoRef:null,videoInfo:{},newNote:"",newVideoLink:"",meta:D,backupMeta:null,info:"asdf",uploadedVideos:[],currPlayingVid:{},currPlayingVidId:0,fileContents:"blah blah"},i.setVideoRef=i.setVideoRef.bind(Object(c.a)(i)),i.getVideoRef=i.getVideoRef.bind(Object(c.a)(i)),i.getCurrVidTime=i.getCurrVidTime.bind(Object(c.a)(i)),i.setCurrVidTime=i.setCurrVidTime.bind(Object(c.a)(i)),i.addNote=i.addNote.bind(Object(c.a)(i)),i.changeNote=i.changeNote.bind(Object(c.a)(i)),i.uploadFile=i.uploadFile.bind(Object(c.a)(i)),i.addToPlaylist=i.addToPlaylist.bind(Object(c.a)(i)),i.handleInputChange=i.handleInputChange.bind(Object(c.a)(i)),i.acceptSpecialSymbol=i.acceptSpecialSymbol.bind(Object(c.a)(i)),i.findMostRecentNoteIdx=i.findMostRecentNoteIdx.bind(Object(c.a)(i)),i.findNewNoteIdx=i.findNewNoteIdx.bind(Object(c.a)(i)),i.recursiveBinarySearch=i.recursiveBinarySearch.bind(Object(c.a)(i)),i.YouTubeGetID=i.YouTubeGetID.bind(Object(c.a)(i)),i.loadProject=i.loadProject.bind(Object(c.a)(i)),i.downloadProject=i.downloadProject.bind(Object(c.a)(i)),i.loadBackupProject=i.loadBackupProject.bind(Object(c.a)(i)),i}return Object(d.a)(a,[{key:"setVideoRef",value:function(e){var t=this;console.log("setting the ref"),e.on("playlistitem",(function(){console.log("Playing next video!",e.playlist()[e.playlist.currentIndex()]);var a=e.playlist.currentIndex();t.setState({currPlayingVid:e.playlist()[a],currPlayingVidId:a},(function(){console.log("hiiii",t.state.currPlayingVid)}))})),this.setState({videoRef:e})}},{key:"getVideoRef",value:function(){return console.log(this.state.videoRef),this.state.videoRef}},{key:"getCurrVidTime",value:function(e){var t=this.state.videoRef.currentTime();return console.log("bhaisdbfalifba",t),console.log("Current Video Info",this.state.currPlayingVid),t}},{key:"setCurrVidTime",value:function(e){console.log(e),null!=this.state.videoRef&&this.state.videoRef.currentTime(e)}},{key:"addNote",value:function(e){var t=this;console.log(this.state.newNote);var a=this.state.meta,i=this.getCurrVidTime(),n=this.state.meta.noteData[this.state.currPlayingVidId].notes,o=n.length,s=0;if(o>0)s=this.findNewNoteIdx(i,n,o);console.log("currentNoteIndex: ",s),a.noteData[this.state.currPlayingVidId].notes.splice(s+1,0,{noteId:a.maxNoteId+1,startTime:i,endTime:null,noteTitle:null,text:this.state.newNote,bookmarked:!1,created:Date.now(),lastUpdated:Date.now(),drawn:!1,images:[]}),a.maxNoteId=a.maxNoteId+1,this.setState({meta:a,newNote:"",info:this.state.newNote},(function(){console.log(t.state.meta)}))}},{key:"changeNote",value:function(e,t,a,i,n){var o=this;console.log(e,t,n);var s=this.state.meta;console.log("videoId: ",n,"noteIdx: ",a,s.noteData[n].notes[a],s.noteData[n].notes[a][i],t),s.noteData[n].notes[a][i]=t,s.noteData[n].notes[a].lastUpdated=Date.now(),this.setState({meta:s},(function(){console.log(o.state.meta)}))}},{key:"addToPlaylist",value:function(e,t,a){var i=this;console.log("ADD TO PLAYLIST: ",t,this.state.newVideoLink);var n="",o="",s="",l=null,r=null;if("web"==t)n="video/youtube",o=this.state.newVideoLink,l=this.YouTubeGetID(o),s=o;else if("local"==t){var d=e.target.value.split("\\").pop();n="video/"+U(e.target.value),r=e.target.files[0],o=URL.createObjectURL(e.target.files[0]),console.log("LOCAL vars: ",n,o),s=d}console.log(this.state.newNote);var c=this.state.meta;this.getCurrVidTime();c.noteData.push({videoId:parseInt(c.maxVideoId)+1,category:t,type:n,url:o,videoName:s,ytVidId:l,fileObj:r,notes:[]}),console.log("meta before1: ",this.state.meta,c.maxVideoId),c.maxVideoId=parseInt(c.maxVideoId)+1,console.log("meta before2: ",this.state.meta,c.maxVideoId),this.setState({meta:c,newVideoLink:""},(function(){console.log("meta after: ",i.state.meta)})),console.log("video added: ",this.state.newVideoLink)}},{key:"uploadFile",value:function(e){if(console.log("heeeeeelllllooo"),console.log("UPLOADING:",e.target.value,typeof e.target.value),""!==e.target.value){var t=e.target.value.split("\\").pop();console.log("fileName :",t,e.target.value);var a=U(t);console.log("fileName :",t,e.target.value,a);e.target.id.split("-").pop(),e.target.files[0].arrayBuffer();this.addToPlaylist(e,"local",e.target)}}},{key:"handleInputChange",value:function(e,t){var a=this;this.setState(Object(l.a)({},t,e.target.value),(function(){console.log("new ".concat(t," value: "),a.state[t])}))}},{key:"acceptSpecialSymbol",value:function(e,t){var a=this;9==e.keyCode&&(e.preventDefault(),this.setState(Object(l.a)({},t,this.state[t]+String.fromCharCode(9)),(function(){console.log("new ".concat(t," value: "),a.state[t])})))}},{key:"findMostRecentNoteIdx",value:function(){var e=this.props.getCurrVidTime(),t=0,a=this.state.meta.noteData[this.state.currPlayingVidId].notes;if(0==a.length)return-1;if(1==a.length)return 0;for(;t<a.length;){if(console.log("time comparisons: ",a[t].startTime,e),a.length>1&&t<a.length-1&&(console.log("time comparisons: ",a[t].startTime,e),a[t].startTime<=e&&a[t+1].startTime>e))return t;t+=1}return a.length-1}},{key:"findNewNoteIdx",value:function(e,t,a,i){var n=e,o=t;return 0==a?-2:1==a?o[0].startTime<n?0:-1:this.recursiveBinarySearch(o,n,0,a-1,a)}},{key:"recursiveBinarySearch",value:function(e,t,a,i,n){if(a>i)return i;var o=Math.floor((a+i)/2);if(o<n-1){if(e[o].startTime<=t&&e[o+1].startTime>t)return o}else if(o==n-1&&e[o].startTime>=t)return o;return e[o].startTime>t?this.recursiveBinarySearch(e,t,a,o-1,n):this.recursiveBinarySearch(e,t,o+1,i,n)}},{key:"YouTubeGetID",value:function(e){return void 0!==(e=e.split(/(vi\/|v%3D|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e[0]}},{key:"loadProject",value:function(e,t){for(var a=this,i=e.target.files,n=0,o=0;n<i.length;){console.log("uploaded file: ",e.target.files[n].name);var s=e.target.files[n].name,l=U(s),r=O[l];if(void 0!=r&&r.valid)switch(r.type){case"video":case"image":break;case"text":"meta.txt"==s&&(o=n)}n+=1}var d=e.target.files[o],c=(URL.createObjectURL(e.target.files[0]),new FileReader);c.onloadend=function(){var e=c.result,t=JSON.parse(c.result);a.setState({backupMeta:a.state.meta,meta:t,fileContents:e},(function(){console.log("hiiii",a.state.fileContents)}))},c.readAsText(d)}},{key:"loadBackupProject",value:function(e,t){this.setState({backupMeta:this.state.meta,meta:this.state.backupMeta})}},{key:"downloadProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new b.a,a=(t.folder("Images"),t.folder("Videos")),i=(a.folder("Originals"),a.folder("Drawn"),t.folder("Data"),t.folder("Meta"));i.file("meta.txt",JSON.stringify(this.state.meta)),t.generateAsync({type:"blob"}).then((function(t){var a="VidNotes "+Date.now()+".zip";e||T.a.saveAs(t,a)}))}},{key:"render",value:function(){var e=this,t=[];return this.state.meta.noteData.forEach((function(e){console.log("web index: ",M),t.push({name:e.videoName,sources:[{src:e.url,type:e.type}],poster:"http://media.w3.org/2010/05/sintel/poster.png",thumbnail:[{srcset:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg",type:"image/jpeg",media:"(min-width: 400px;)"},{src:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search-v2_297x176.jpg"}]})})),console.log("playlistJSON:",t,"here's a code"),n.a.createElement("div",{className:"tripleColumnContainer"},n.a.createElement("div",{className:"videoPlayer"},n.a.createElement(E,Object.assign({},{autoplay:!0,controls:!0},{setVidRef:this.setVideoRef,test:"hi"})),n.a.createElement("button",{onClick:this.getVideoRef},"getVideoRef"),n.a.createElement("button",{onClick:this.getCurrVidTime},"Get current Video Time [PC] "),n.a.createElement("button",{onClick:function(){return e.setCurrVidTime(180)}},"Set current Video Time to 3 min[PC] "),"jhvj"),n.a.createElement("div",{className:"playList"},n.a.createElement("a",{href:j,download:"testFile.txt"},j,"Hiii"),n.a.createElement("button",{onClick:_},"Download Default Info "),n.a.createElement("button",{onClick:this.downloadProject},"Download Info "),n.a.createElement("button",{onClick:this.loadBackupProject},"Revert to Last Project"),"Hi",n.a.createElement("textarea",{onChange:function(t,a){return e.handleInputChange(t,"newNote")},onKeyDown:function(t,a){return e.acceptSpecialSymbol(t,"newNote")},className:"NoteInputField",value:this.state.newNote})," ",n.a.createElement("button",{onClick:this.addNote,type:"submit"},"Submit Note"),n.a.createElement("input",{onChange:function(t,a){return e.handleInputChange(t,"newVideoLink")},className:"playlistInputField",value:this.state.newVideoLink}),n.a.createElement("button",{onClick:function(t,a){return e.addToPlaylist(t,"web")},type:"submit"},"Add to Playlist"),null!==this.state.videoRef&&void 0!==this.state.videoRef&&n.a.createElement(w,{key:this.state.meta,player:this.state.videoRef,playlist:t,test:"this should APPEAR"}),n.a.createElement("input",{onChange:function(t,a){return e.addToPlaylist(t,"local")},type:"file",accept:".mp4, video/mp4"}),n.a.createElement("div",null,"Field Import:",n.a.createElement("input",{onChange:function(t,a){return e.loadProject(t,"local")},directory:"",webkitdirectory:"",mozdirectory:"",type:"file"})),n.a.createElement("div",{class:"g-savetodrive","data-src":g.a,"data-filename":"My Statement.mp4","data-sitename":"My Company Name"}),n.a.createElement("div",null,"Test Env String: ","here's a code"),n.a.createElement("pre",{className:"testerPre"},this.state.fileContents)),n.a.createElement("div",{className:"notes"},n.a.createElement("div",null,"HIII",this.state.currPlayingVid!={}&&console.log("current video: ",this.state.currPlayingVid,this.state.currPlayingVid.sources)),n.a.createElement(x,{id:"list",itemList:this.state.meta.noteData[this.state.currPlayingVidId],setCurrVidTime:this.setCurrVidTime,getCurrVidTime:this.getCurrVidTime,changeNote:this.changeNote}),"Hi",n.a.createElement("form",null,n.a.createElement("input",{type:"button",name:"print",value:"Print Page",onClick:function(){window.print()}}))))}}]),a}(n.a.Component);var B=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.4177cff3.chunk.js.map